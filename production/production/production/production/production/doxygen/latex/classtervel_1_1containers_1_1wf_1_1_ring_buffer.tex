\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer}{}\section{tervel\+:\+:containers\+:\+:wf\+:\+:Ring\+Buffer$<$ T $>$ Class Template Reference}
\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer$<$ T $>$@{tervel\+::containers\+::wf\+::\+Ring\+Buffer$<$ T $>$}}


This is a non-\/blocking F\+I\+F\+O ring buffer design that was made wait-\/free by applying a progress assurance framework to it.  




{\ttfamily \#include $<$ring\+\_\+buffer.\+h$>$}

\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_1_1_buffer_op}{Buffer\+Op}
\item 
class \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_1_1_dequeue_op}{Dequeue\+Op}
\item 
class \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_1_1_enqueue_op}{Enqueue\+Op}
\item 
class \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_1_1_helper}{Helper}
\item 
class \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_1_1_value}{Value}
\begin{DoxyCompactList}\small\item\em \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer}{Ring\+Buffer} value class, values stored in the class must extend it. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_aa273f827eb69a6d148d1a3449d8a18ec}{Ring\+Buffer} (size\+\_\+t capacity)
\begin{DoxyCompactList}\small\item\em Ring Buffer constructor. \end{DoxyCompactList}\item 
bool \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a7079b1f92598181c4ef7c179d1eb2773}{is\+Full} ()
\begin{DoxyCompactList}\small\item\em Returns whether or not the ring buffer is full. \end{DoxyCompactList}\item 
bool \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a5af5dec4a0f9b17f419189352ff94826}{is\+Full} (int64\+\_\+t tail, int64\+\_\+t head)
\begin{DoxyCompactList}\small\item\em Returns whether or not the ring buffer is full. \end{DoxyCompactList}\item 
bool \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a4e01d955bd0bc4b75ad1e79fe5c3b1c7}{is\+Empty} ()
\begin{DoxyCompactList}\small\item\em Returns whether or not the ring buffer is empty. \end{DoxyCompactList}\item 
bool \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a537c3fd338a5d277f7d20d8ca52c96ac}{is\+Empty} (int64\+\_\+t tail, int64\+\_\+t head)
\begin{DoxyCompactList}\small\item\em Returns whether or not the ring buffer is empty. \end{DoxyCompactList}\item 
bool \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a9a077f004d6e7844d21fbe6ca9c259e9}{enqueue} (T value)
\begin{DoxyCompactList}\small\item\em Enqueues the passed value into the buffer. \end{DoxyCompactList}\item 
bool \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a54ca61cd44983b793173eadca794f64a}{dequeue} (T \&value)
\begin{DoxyCompactList}\small\item\em Dequeues a value from the buffer. \end{DoxyCompactList}\item 
std\+::string \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a461e01d08e025fe89c64e900a219e953}{debug\+\_\+string} ()
\begin{DoxyCompactList}\small\item\em This function returns a string debugging information. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a7e82ecdcd6145daf90c8d49d04fd270d}{read\+Value} (int64\+\_\+t pos, uintptr\+\_\+t \&val)
\begin{DoxyCompactList}\small\item\em This function attempts to load a value from the buffer. \end{DoxyCompactList}\item 
void \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a6f9c4dfd96a9b4c7c5aab52174171eb5}{get\+Info} (uintptr\+\_\+t val, int64\+\_\+t \&val\+\_\+seqid, bool \&val\+\_\+is\+Value\+Type, bool \&val\+\_\+is\+Marked)
\begin{DoxyCompactList}\small\item\em This function is used to get information from a value read from the ring buffer. \end{DoxyCompactList}\item 
int64\+\_\+t \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a20683c75c286a8a22e97cbcbe5b8c787}{next\+Head} ()
\begin{DoxyCompactList}\small\item\em performs a fetch-\/and-\/add on the head counter \end{DoxyCompactList}\item 
int64\+\_\+t \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a5f45b94d3225418fdec729f483db8c7c}{get\+Head} ()
\begin{DoxyCompactList}\small\item\em performs an atomic load on the head counter \end{DoxyCompactList}\item 
int64\+\_\+t \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_ae6ebc11d1ba6f884067ddc5b0b4e411f}{cas\+Head} (int64\+\_\+t \&expected, int64\+\_\+t new\+\_\+val)
\item 
int64\+\_\+t \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a2b6cdb8a410b919e6aed90d130e3d4fa}{next\+Tail} ()
\begin{DoxyCompactList}\small\item\em performs a fetch-\/and-\/add on the tail counter \end{DoxyCompactList}\item 
int64\+\_\+t \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_ab757ccb32546ad168ff70295e53bb509}{get\+Tail} ()
\begin{DoxyCompactList}\small\item\em performs an atomic load on the tail counter \end{DoxyCompactList}\item 
int64\+\_\+t \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a9c808379ab96e7d55d23168530ff4505}{cas\+Tail} (int64\+\_\+t \&expected, int64\+\_\+t new\+\_\+val)
\item 
int64\+\_\+t \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_aca988376ab980bce614ddbe0c279af73}{next\+Seq\+Id} (int64\+\_\+t seqid)
\begin{DoxyCompactList}\small\item\em Returns the next seqid. \end{DoxyCompactList}\item 
int64\+\_\+t \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a909965b7e584d94ceedec35f5d06399e}{get\+Pos} (int64\+\_\+t seqid)
\begin{DoxyCompactList}\small\item\em Returns the position a seqid belongs at. \end{DoxyCompactList}\item 
bool \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a54a5d1b842d3a70708d64460948628bd}{backoff} (int64\+\_\+t pos, uintptr\+\_\+t val)
\begin{DoxyCompactList}\small\item\em A backoff routine in the event of thread delay. \end{DoxyCompactList}\item 
void \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_aed86f62144a5709a09273cfd9b64d28a}{atomic\+\_\+delay\+\_\+mark} (int64\+\_\+t pos)
\begin{DoxyCompactList}\small\item\em This function places a bitmark on the value held at address. \end{DoxyCompactList}\item 
std\+::string \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a2ea530f34dec3354636c48c28066b320}{debug\+\_\+string} (uintptr\+\_\+t val)
\begin{DoxyCompactList}\small\item\em This prints out debugging information. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static uintptr\+\_\+t \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_ad29913ad7598a2825cd76200eef0f296}{Empty\+Type} (int64\+\_\+t seqid)
\begin{DoxyCompactList}\small\item\em Creates a uintptr\+\_\+t that represents an Empty\+Type. \end{DoxyCompactList}\item 
static int64\+\_\+t \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_ad28c5560eec05806c2a6c2c9d49b51df}{get\+Empty\+Type\+Seq\+Id} (uintptr\+\_\+t val)
\begin{DoxyCompactList}\small\item\em Returns the seqid encoded in the passed value. \end{DoxyCompactList}\item 
static uintptr\+\_\+t \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a6d65a8409987f61a0fe48193b9073578}{Value\+Type} (T value, int64\+\_\+t seqid)
\begin{DoxyCompactList}\small\item\em Creates a uintptr\+\_\+t that represents an Value\+Type. \end{DoxyCompactList}\item 
static T \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a1f068a3e3fb8afd732fb24629f9af573}{get\+Value\+Type} (uintptr\+\_\+t val)
\begin{DoxyCompactList}\small\item\em Returns the value type from a uintptr. \end{DoxyCompactList}\item 
static int64\+\_\+t \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_afcb8d6559b878ea259ad0d0c03260ce5}{get\+Value\+Type\+Seq\+Id} (uintptr\+\_\+t val)
\begin{DoxyCompactList}\small\item\em Returns the seqid of the passed value. \end{DoxyCompactList}\item 
static uintptr\+\_\+t \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a82ae33c04b67eec192d19ec0e652012f}{Delay\+Mark\+Value} (uintptr\+\_\+t val)
\begin{DoxyCompactList}\small\item\em Takes a uintptr\+\_\+t and places a bitmark on the delay\+Mark\+\_\+lsb. \end{DoxyCompactList}\item 
static bool \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_afa26a1ffab8e479f7c8158789d05a2ed}{is\+Empty\+Type} (uintptr\+\_\+t p)
\begin{DoxyCompactList}\small\item\em returns whether or not p represents an Empty\+Type \end{DoxyCompactList}\item 
static bool \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_aa6254103b63556a143f568a23a189193}{is\+Value\+Type} (uintptr\+\_\+t p)
\begin{DoxyCompactList}\small\item\em returns whether or not p represents an Value\+Type \end{DoxyCompactList}\item 
static bool \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_ac0d773c57b2c0718e1308cbc5726f0a8}{is\+Delayed\+Marked} (uintptr\+\_\+t p)
\begin{DoxyCompactList}\small\item\em returns whether or not p has a delay mark \end{DoxyCompactList}\item 
static int64\+\_\+t \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_ae432cff608036acb82351fb37df2201e}{counter\+Action} (std\+::atomic$<$ int64\+\_\+t $>$ \&counter, int64\+\_\+t val)
\begin{DoxyCompactList}\small\item\em utility function for incrementing counter \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
const int64\+\_\+t \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a41e3b8510f4ffd470709fe8e83868933}{capacity\+\_\+}
\item 
std\+::atomic$<$ int64\+\_\+t $>$ \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a94a7b260355e3e1c3c97b649304b3302}{head\+\_\+} \{0\}
\item 
std\+::atomic$<$ int64\+\_\+t $>$ \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_acd823ce60f711bf6ea20799992844183}{tail\+\_\+} \{0\}
\item 
std\+::unique\+\_\+ptr$<$ std\+::atomic$<$ uintptr\+\_\+t $>$\mbox{[}$\,$\mbox{]}$>$ \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a609506aa3f330fcf9ada6ca622514bd5}{array\+\_\+}
\end{DoxyCompactItemize}
\subsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static const uintptr\+\_\+t \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a88443e08c1d248ce79ed7a2dc54c00c4}{num\+\_\+lsb} = 3
\item 
static const uintptr\+\_\+t \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a1bd646f1d7df0a14d64078d2dcef1cb5}{delay\+Mark\+\_\+lsb} = 0x1
\item 
static const uintptr\+\_\+t \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_aaeeec7e2573a54c06823fb6800437b4f}{emptytype\+\_\+lsb} = 0x2
\item 
static const uintptr\+\_\+t \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a83e184f9dffd2a06038726f74640c554}{oprec\+\_\+lsb} = 0x4
\item 
static const uintptr\+\_\+t \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_afabc2215759bfbb00144024609700b7d}{clear\+\_\+lsb} = 7
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{template$<$typename T$>$class tervel\+::containers\+::wf\+::\+Ring\+Buffer$<$ T $>$}

This is a non-\/blocking F\+I\+F\+O ring buffer design that was made wait-\/free by applying a progress assurance framework to it. 

If is\+Delayed never returns true then it will not use additional memory. However, if it does, then it will allocate some objects which are protected by hazard pointer protection.

This ring buffer is implemented on a statically sized array. It can only store pointer sized objects that extend the \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_1_1_value}{Value} class. Further it reserves the 3 L\+S\+B for type identification, which makes it compatible only with 64 bit systems

It supports enqueue, dequeue, is\+Full, and is\+Empty operations


\begin{DoxyTemplParams}{Template Parameters}
{\em T} & The type of information stored, must be a pointer and the class must extend \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_1_1_value}{Ring\+Buffer\+::\+Value}. \\
\hline
\end{DoxyTemplParams}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_aa273f827eb69a6d148d1a3449d8a18ec}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!Ring\+Buffer@{Ring\+Buffer}}
\index{Ring\+Buffer@{Ring\+Buffer}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{Ring\+Buffer(size\+\_\+t capacity)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::{\bf Ring\+Buffer} (
\begin{DoxyParamCaption}
\item[{size\+\_\+t}]{capacity}
\end{DoxyParamCaption}
)}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_aa273f827eb69a6d148d1a3449d8a18ec}


Ring Buffer constructor. 

This constructs and initializes the ring buffer object


\begin{DoxyParams}{Parameters}
{\em capacity} & the length of the internal array to allocate. \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_aed86f62144a5709a09273cfd9b64d28a}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!atomic\+\_\+delay\+\_\+mark@{atomic\+\_\+delay\+\_\+mark}}
\index{atomic\+\_\+delay\+\_\+mark@{atomic\+\_\+delay\+\_\+mark}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{atomic\+\_\+delay\+\_\+mark(int64\+\_\+t pos)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ void {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::atomic\+\_\+delay\+\_\+mark (
\begin{DoxyParamCaption}
\item[{int64\+\_\+t}]{pos}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_aed86f62144a5709a09273cfd9b64d28a}


This function places a bitmark on the value held at address. 

This function places a bitmark on the value held at address by calling address-\/$>$fetch\+\_\+or(delay\+Mark\+\_\+lsb) and then it loads the new current value and assigns it to val.


\begin{DoxyParams}{Parameters}
{\em pos} & The position to perform the blind bitmark. \\
\hline
\end{DoxyParams}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a54a5d1b842d3a70708d64460948628bd}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!backoff@{backoff}}
\index{backoff@{backoff}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{backoff(int64\+\_\+t pos, uintptr\+\_\+t val)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ bool {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::backoff (
\begin{DoxyParamCaption}
\item[{int64\+\_\+t}]{pos, }
\item[{uintptr\+\_\+t}]{val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a54a5d1b842d3a70708d64460948628bd}


A backoff routine in the event of thread delay. 

This function is called in the event the value at position on the ringbuffer is lagging behind as a result of a delayed thread.

It calls \hyperlink{namespacetervel_1_1util_a4505d4510f91a5cb1a766dea247f835f}{tervel\+::util\+::backoff()} and upon its return checks whether or the value at address has changed. If it has, it returns true, Else it returns false. If the value has changed the new value is assigned to val


\begin{DoxyParams}{Parameters}
{\em pos} & The pos val was read from \\
\hline
{\em val} & The last read value from address.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
whether or not the val changed. 
\end{DoxyReturn}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_ae6ebc11d1ba6f884067ddc5b0b4e411f}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!cas\+Head@{cas\+Head}}
\index{cas\+Head@{cas\+Head}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{cas\+Head(int64\+\_\+t \&expected, int64\+\_\+t new\+\_\+val)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ int64\+\_\+t {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::cas\+Head (
\begin{DoxyParamCaption}
\item[{int64\+\_\+t \&}]{expected, }
\item[{int64\+\_\+t}]{new\+\_\+val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_ae6ebc11d1ba6f884067ddc5b0b4e411f}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a9c808379ab96e7d55d23168530ff4505}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!cas\+Tail@{cas\+Tail}}
\index{cas\+Tail@{cas\+Tail}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{cas\+Tail(int64\+\_\+t \&expected, int64\+\_\+t new\+\_\+val)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ int64\+\_\+t {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::cas\+Tail (
\begin{DoxyParamCaption}
\item[{int64\+\_\+t \&}]{expected, }
\item[{int64\+\_\+t}]{new\+\_\+val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a9c808379ab96e7d55d23168530ff4505}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_ae432cff608036acb82351fb37df2201e}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!counter\+Action@{counter\+Action}}
\index{counter\+Action@{counter\+Action}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{counter\+Action(std\+::atomic$<$ int64\+\_\+t $>$ \&counter, int64\+\_\+t val)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ int64\+\_\+t {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::counter\+Action (
\begin{DoxyParamCaption}
\item[{std\+::atomic$<$ int64\+\_\+t $>$ \&}]{counter, }
\item[{int64\+\_\+t}]{val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_ae432cff608036acb82351fb37df2201e}


utility function for incrementing counter 

contains internal checks on the returned value


\begin{DoxyParams}{Parameters}
{\em counter} & counter to increment \\
\hline
{\em val} & value by which to increment the counter\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
returns the pre-\/incremented value of the tail counter. 
\end{DoxyReturn}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a461e01d08e025fe89c64e900a219e953}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!debug\+\_\+string@{debug\+\_\+string}}
\index{debug\+\_\+string@{debug\+\_\+string}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{debug\+\_\+string()}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ std\+::string {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::debug\+\_\+string (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a461e01d08e025fe89c64e900a219e953}


This function returns a string debugging information. 

This information includes \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_1_1_value}{Value} at each potion, head, tail, capacity, and someother stuff. \begin{DoxyReturn}{Returns}
debugging info string 
\end{DoxyReturn}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a2ea530f34dec3354636c48c28066b320}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!debug\+\_\+string@{debug\+\_\+string}}
\index{debug\+\_\+string@{debug\+\_\+string}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{debug\+\_\+string(uintptr\+\_\+t val)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ std\+::string {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::debug\+\_\+string (
\begin{DoxyParamCaption}
\item[{uintptr\+\_\+t}]{val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a2ea530f34dec3354636c48c28066b320}


This prints out debugging information. 

This prints out debugging information.


\begin{DoxyParams}{Parameters}
{\em val} & a value loaded from a position on the buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a string representation the contents of val. 
\end{DoxyReturn}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a82ae33c04b67eec192d19ec0e652012f}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!Delay\+Mark\+Value@{Delay\+Mark\+Value}}
\index{Delay\+Mark\+Value@{Delay\+Mark\+Value}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{Delay\+Mark\+Value(uintptr\+\_\+t val)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ uintptr\+\_\+t {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::Delay\+Mark\+Value (
\begin{DoxyParamCaption}
\item[{uintptr\+\_\+t}]{val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a82ae33c04b67eec192d19ec0e652012f}


Takes a uintptr\+\_\+t and places a bitmark on the delay\+Mark\+\_\+lsb. 

Takes a uintptr\+\_\+t and places a bitmark on the delay\+Mark\+\_\+lsb


\begin{DoxyParams}{Parameters}
{\em val} & The value to mark \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A marked value 
\end{DoxyReturn}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a54ca61cd44983b793173eadca794f64a}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!dequeue@{dequeue}}
\index{dequeue@{dequeue}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{dequeue(\+T \&value)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ bool {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::dequeue (
\begin{DoxyParamCaption}
\item[{T \&}]{value}
\end{DoxyParamCaption}
)}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a54ca61cd44983b793173eadca794f64a}


Dequeues a value from the buffer. 

This function attempts to dequeue a value. It returns false in the event the ring buffer is empty.


\begin{DoxyParams}{Parameters}
{\em value} & A variable to store the dequeued value. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
whether or not a value was dequeued. 
\end{DoxyReturn}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_ad29913ad7598a2825cd76200eef0f296}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!Empty\+Type@{Empty\+Type}}
\index{Empty\+Type@{Empty\+Type}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{Empty\+Type(int64\+\_\+t seqid)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ uintptr\+\_\+t {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::Empty\+Type (
\begin{DoxyParamCaption}
\item[{int64\+\_\+t}]{seqid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_ad29913ad7598a2825cd76200eef0f296}


Creates a uintptr\+\_\+t that represents an Empty\+Type. 

the uintptr\+\_\+t is composed by seqid $<$$<$ num\+\_\+lsb $\vert$ emptytype\+\_\+lsb


\begin{DoxyParams}{Parameters}
{\em seqid} & the seqid for this Empty\+Type \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns uintptr\+\_\+t that represents an Empty\+Type 
\end{DoxyReturn}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a9a077f004d6e7844d21fbe6ca9c259e9}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!enqueue@{enqueue}}
\index{enqueue@{enqueue}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{enqueue(\+T value)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ bool {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::enqueue (
\begin{DoxyParamCaption}
\item[{T}]{value}
\end{DoxyParamCaption}
)}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a9a077f004d6e7844d21fbe6ca9c259e9}


Enqueues the passed value into the buffer. 

This function attempts to enqueue the passed value. It returns false in the event the ring buffer is full. Internally it assigned a sequence number to the value.


\begin{DoxyParams}{Parameters}
{\em value} & The value to enqueue. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
whether or not the value was enqueued. 
\end{DoxyReturn}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_ad28c5560eec05806c2a6c2c9d49b51df}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!get\+Empty\+Type\+Seq\+Id@{get\+Empty\+Type\+Seq\+Id}}
\index{get\+Empty\+Type\+Seq\+Id@{get\+Empty\+Type\+Seq\+Id}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{get\+Empty\+Type\+Seq\+Id(uintptr\+\_\+t val)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ int64\+\_\+t {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::get\+Empty\+Type\+Seq\+Id (
\begin{DoxyParamCaption}
\item[{uintptr\+\_\+t}]{val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_ad28c5560eec05806c2a6c2c9d49b51df}


Returns the seqid encoded in the passed value. 

Returns the seqid encoded in the passed value

seqid = val $>$$>$ num\+\_\+lsb


\begin{DoxyParams}{Parameters}
{\em val} & a unitptr\+\_\+t loaded from the buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
its encoded seqid 
\end{DoxyReturn}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a5f45b94d3225418fdec729f483db8c7c}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!get\+Head@{get\+Head}}
\index{get\+Head@{get\+Head}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{get\+Head()}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ int64\+\_\+t {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::get\+Head (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a5f45b94d3225418fdec729f483db8c7c}


performs an atomic load on the head counter 

performs an atomic load on the head counter \begin{DoxyReturn}{Returns}
returns the value of the head counter. 
\end{DoxyReturn}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a6f9c4dfd96a9b4c7c5aab52174171eb5}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!get\+Info@{get\+Info}}
\index{get\+Info@{get\+Info}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{get\+Info(uintptr\+\_\+t val, int64\+\_\+t \&val\+\_\+seqid, bool \&val\+\_\+is\+Value\+Type, bool \&val\+\_\+is\+Marked)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ void {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::get\+Info (
\begin{DoxyParamCaption}
\item[{uintptr\+\_\+t}]{val, }
\item[{int64\+\_\+t \&}]{val\+\_\+seqid, }
\item[{bool \&}]{val\+\_\+is\+Value\+Type, }
\item[{bool \&}]{val\+\_\+is\+Marked}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a6f9c4dfd96a9b4c7c5aab52174171eb5}


This function is used to get information from a value read from the ring buffer. 

This function is used to get information from a value read from the ring buffer. This information is then assigned to the arguments.


\begin{DoxyParams}{Parameters}
{\em val} & a value read from a position on the ring buffer \\
\hline
{\em val\+\_\+seqid} & The seqid associated with val \\
\hline
{\em val\+\_\+is\+Value\+Type} & Whether or not val is a Value\+Type \\
\hline
{\em val\+\_\+is\+Marked} & Whether or not val has a delay mark. \\
\hline
\end{DoxyParams}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a909965b7e584d94ceedec35f5d06399e}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!get\+Pos@{get\+Pos}}
\index{get\+Pos@{get\+Pos}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{get\+Pos(int64\+\_\+t seqid)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ int64\+\_\+t {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::get\+Pos (
\begin{DoxyParamCaption}
\item[{int64\+\_\+t}]{seqid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a909965b7e584d94ceedec35f5d06399e}


Returns the position a seqid belongs at. 

Returns the position a seqid belongs at, determined by seqid \% capacity\+\_\+


\begin{DoxyParams}{Parameters}
{\em seqid} & the seqid \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the position the seqid belongs at 
\end{DoxyReturn}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_ab757ccb32546ad168ff70295e53bb509}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!get\+Tail@{get\+Tail}}
\index{get\+Tail@{get\+Tail}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{get\+Tail()}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ int64\+\_\+t {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::get\+Tail (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_ab757ccb32546ad168ff70295e53bb509}


performs an atomic load on the tail counter 

performs an atomic load on the tail counter \begin{DoxyReturn}{Returns}
returns the value of the tail counter. 
\end{DoxyReturn}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a1f068a3e3fb8afd732fb24629f9af573}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!get\+Value\+Type@{get\+Value\+Type}}
\index{get\+Value\+Type@{get\+Value\+Type}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{get\+Value\+Type(uintptr\+\_\+t val)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ T {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::get\+Value\+Type (
\begin{DoxyParamCaption}
\item[{uintptr\+\_\+t}]{val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a1f068a3e3fb8afd732fb24629f9af573}


Returns the value type from a uintptr. 

clears any delayed marks then casts it to type T.


\begin{DoxyParams}{Parameters}
{\em val} & The value to cast \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
val cast to type T 
\end{DoxyReturn}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_afcb8d6559b878ea259ad0d0c03260ce5}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!get\+Value\+Type\+Seq\+Id@{get\+Value\+Type\+Seq\+Id}}
\index{get\+Value\+Type\+Seq\+Id@{get\+Value\+Type\+Seq\+Id}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{get\+Value\+Type\+Seq\+Id(uintptr\+\_\+t val)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ int64\+\_\+t {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::get\+Value\+Type\+Seq\+Id (
\begin{DoxyParamCaption}
\item[{uintptr\+\_\+t}]{val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_afcb8d6559b878ea259ad0d0c03260ce5}


Returns the seqid of the passed value. 

Returns the seqid of the passed value, first it casts val to type T by calling get\+Valye\+Type then it calls val-\/$>$func\+\_\+seqid();


\begin{DoxyParams}{Parameters}
{\em val} & a value read from the ring buffer that has been determined to be a Value\+Type \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The values seqid 
\end{DoxyReturn}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_ac0d773c57b2c0718e1308cbc5726f0a8}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!is\+Delayed\+Marked@{is\+Delayed\+Marked}}
\index{is\+Delayed\+Marked@{is\+Delayed\+Marked}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{is\+Delayed\+Marked(uintptr\+\_\+t p)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ bool {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::is\+Delayed\+Marked (
\begin{DoxyParamCaption}
\item[{uintptr\+\_\+t}]{p}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_ac0d773c57b2c0718e1308cbc5726f0a8}


returns whether or not p has a delay mark 

returns whether or not p has a delay mark by examining the delay\+Mark\+\_\+lsb. If it is 1 then it is delayed


\begin{DoxyParams}{Parameters}
{\em p} & the value to examine \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
whether or not it is has a delay mark. 
\end{DoxyReturn}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a4e01d955bd0bc4b75ad1e79fe5c3b1c7}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!is\+Empty@{is\+Empty}}
\index{is\+Empty@{is\+Empty}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{is\+Empty()}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ bool {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::is\+Empty (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a4e01d955bd0bc4b75ad1e79fe5c3b1c7}


Returns whether or not the ring buffer is empty. 

Returns whether or not the ring buffer is empty. \begin{DoxyReturn}{Returns}
Returns whether or not the ring buffer is empty. 
\end{DoxyReturn}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a537c3fd338a5d277f7d20d8ca52c96ac}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!is\+Empty@{is\+Empty}}
\index{is\+Empty@{is\+Empty}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{is\+Empty(int64\+\_\+t tail, int64\+\_\+t head)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ bool {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::is\+Empty (
\begin{DoxyParamCaption}
\item[{int64\+\_\+t}]{tail, }
\item[{int64\+\_\+t}]{head}
\end{DoxyParamCaption}
)}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a537c3fd338a5d277f7d20d8ca52c96ac}


Returns whether or not the ring buffer is empty. 

Returns whether or not the ring buffer is empty. 
\begin{DoxyParams}{Parameters}
{\em tail} & \\
\hline
{\em head} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns whether or not the ring buffer is empty. 
\end{DoxyReturn}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_afa26a1ffab8e479f7c8158789d05a2ed}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!is\+Empty\+Type@{is\+Empty\+Type}}
\index{is\+Empty\+Type@{is\+Empty\+Type}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{is\+Empty\+Type(uintptr\+\_\+t p)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ bool {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::is\+Empty\+Type (
\begin{DoxyParamCaption}
\item[{uintptr\+\_\+t}]{p}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_afa26a1ffab8e479f7c8158789d05a2ed}


returns whether or not p represents an Empty\+Type 

returns whether or not p represents an Empty\+Type by examining the emptytype\+\_\+lsb. If it is 1 then it is an Empty\+Type type.


\begin{DoxyParams}{Parameters}
{\em p} & the value to examine \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
whether or not it is an Empty\+Type 
\end{DoxyReturn}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a7079b1f92598181c4ef7c179d1eb2773}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!is\+Full@{is\+Full}}
\index{is\+Full@{is\+Full}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{is\+Full()}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ bool {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::is\+Full (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a7079b1f92598181c4ef7c179d1eb2773}


Returns whether or not the ring buffer is full. 

Returns whether or not the ring buffer is full. \begin{DoxyReturn}{Returns}
Returns whether or not the ring buffer is full. 
\end{DoxyReturn}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a5af5dec4a0f9b17f419189352ff94826}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!is\+Full@{is\+Full}}
\index{is\+Full@{is\+Full}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{is\+Full(int64\+\_\+t tail, int64\+\_\+t head)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ bool {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::is\+Full (
\begin{DoxyParamCaption}
\item[{int64\+\_\+t}]{tail, }
\item[{int64\+\_\+t}]{head}
\end{DoxyParamCaption}
)}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a5af5dec4a0f9b17f419189352ff94826}


Returns whether or not the ring buffer is full. 

Returns whether or not the ring buffer is full.


\begin{DoxyParams}{Parameters}
{\em tail} & \mbox{[}description\mbox{]} \\
\hline
{\em head} & \mbox{[}description\mbox{]}\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns whether or not the ring buffer is full. 
\end{DoxyReturn}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_aa6254103b63556a143f568a23a189193}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!is\+Value\+Type@{is\+Value\+Type}}
\index{is\+Value\+Type@{is\+Value\+Type}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{is\+Value\+Type(uintptr\+\_\+t p)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ bool {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::is\+Value\+Type (
\begin{DoxyParamCaption}
\item[{uintptr\+\_\+t}]{p}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_aa6254103b63556a143f568a23a189193}


returns whether or not p represents an Value\+Type 

returns whether or not p represents an Value\+Type by examining the emptytype\+\_\+lsb. If it is 0 then it is an Value\+Type type.


\begin{DoxyParams}{Parameters}
{\em p} & the value to examine \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
whether or not it is an Value\+Type 
\end{DoxyReturn}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a20683c75c286a8a22e97cbcbe5b8c787}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!next\+Head@{next\+Head}}
\index{next\+Head@{next\+Head}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{next\+Head()}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ int64\+\_\+t {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::next\+Head (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a20683c75c286a8a22e97cbcbe5b8c787}


performs a fetch-\/and-\/add on the head counter 

atomically increments the head \begin{DoxyReturn}{Returns}
returns the pre-\/incremented value of the head counter. 
\end{DoxyReturn}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_aca988376ab980bce614ddbe0c279af73}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!next\+Seq\+Id@{next\+Seq\+Id}}
\index{next\+Seq\+Id@{next\+Seq\+Id}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{next\+Seq\+Id(int64\+\_\+t seqid)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ intptr\+\_\+t {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::next\+Seq\+Id (
\begin{DoxyParamCaption}
\item[{int64\+\_\+t}]{seqid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_aca988376ab980bce614ddbe0c279af73}


Returns the next seqid. 

Returns the next seqid, which is seqid+capacity\+\_\+


\begin{DoxyParams}{Parameters}
{\em seqid} & The current seqid \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the next seqid 
\end{DoxyReturn}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a2b6cdb8a410b919e6aed90d130e3d4fa}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!next\+Tail@{next\+Tail}}
\index{next\+Tail@{next\+Tail}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{next\+Tail()}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ int64\+\_\+t {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::next\+Tail (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a2b6cdb8a410b919e6aed90d130e3d4fa}


performs a fetch-\/and-\/add on the tail counter 

atomically increments the tail \begin{DoxyReturn}{Returns}
returns the pre-\/incremented value of the tail counter. 
\end{DoxyReturn}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a7e82ecdcd6145daf90c8d49d04fd270d}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!read\+Value@{read\+Value}}
\index{read\+Value@{read\+Value}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{read\+Value(int64\+\_\+t pos, uintptr\+\_\+t \&val)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ bool {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::read\+Value (
\begin{DoxyParamCaption}
\item[{int64\+\_\+t}]{pos, }
\item[{uintptr\+\_\+t \&}]{val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a7e82ecdcd6145daf90c8d49d04fd270d}


This function attempts to load a value from the buffer. 

This function encapsulates logic related to achieving hazard pointer protection on objects read from the buffer. Currently it does not protected type T objects, only \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_1_1_helper}{Helper} objects used in the progress assurance framework. If a \hyperlink{classtervel_1_1containers_1_1wf_1_1_ring_buffer_1_1_helper}{Helper} object is read it will return false, otherwise it will return a successful read.


\begin{DoxyParams}{Parameters}
{\em pos} & the position to load from \\
\hline
{\em val} & the variable to store the loaded value.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
whether or not a load was successful 
\end{DoxyReturn}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a6d65a8409987f61a0fe48193b9073578}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!Value\+Type@{Value\+Type}}
\index{Value\+Type@{Value\+Type}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{Value\+Type(\+T value, int64\+\_\+t seqid)}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ uintptr\+\_\+t {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::Value\+Type (
\begin{DoxyParamCaption}
\item[{T}]{value, }
\item[{int64\+\_\+t}]{seqid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a6d65a8409987f61a0fe48193b9073578}


Creates a uintptr\+\_\+t that represents an Value\+Type. 

the uintptr\+\_\+t is composed by casting value to a uintptr\+\_\+t.

Internally it calls value-\/$>$func\+\_\+seqid(seqid) to set the seqid.


\begin{DoxyParams}{Parameters}
{\em value} & a pointer type to enqueue \\
\hline
{\em seqid} & the sequence id assigned to this value \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns uintptr\+\_\+t that represents an Value\+Type 
\end{DoxyReturn}


\subsection{Member Data Documentation}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a609506aa3f330fcf9ada6ca622514bd5}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!array\+\_\+@{array\+\_\+}}
\index{array\+\_\+@{array\+\_\+}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{array\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T$>$ std\+::unique\+\_\+ptr$<$std\+::atomic$<$uintptr\+\_\+t$>$\mbox{[}$\,$\mbox{]}$>$ {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::array\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a609506aa3f330fcf9ada6ca622514bd5}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a41e3b8510f4ffd470709fe8e83868933}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!capacity\+\_\+@{capacity\+\_\+}}
\index{capacity\+\_\+@{capacity\+\_\+}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{capacity\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T$>$ const int64\+\_\+t {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::capacity\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a41e3b8510f4ffd470709fe8e83868933}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_afabc2215759bfbb00144024609700b7d}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!clear\+\_\+lsb@{clear\+\_\+lsb}}
\index{clear\+\_\+lsb@{clear\+\_\+lsb}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{clear\+\_\+lsb}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T$>$ const uintptr\+\_\+t {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::clear\+\_\+lsb = 7\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_afabc2215759bfbb00144024609700b7d}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a1bd646f1d7df0a14d64078d2dcef1cb5}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!delay\+Mark\+\_\+lsb@{delay\+Mark\+\_\+lsb}}
\index{delay\+Mark\+\_\+lsb@{delay\+Mark\+\_\+lsb}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{delay\+Mark\+\_\+lsb}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T$>$ const uintptr\+\_\+t {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::delay\+Mark\+\_\+lsb = 0x1\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a1bd646f1d7df0a14d64078d2dcef1cb5}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_aaeeec7e2573a54c06823fb6800437b4f}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!emptytype\+\_\+lsb@{emptytype\+\_\+lsb}}
\index{emptytype\+\_\+lsb@{emptytype\+\_\+lsb}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{emptytype\+\_\+lsb}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T$>$ const uintptr\+\_\+t {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::emptytype\+\_\+lsb = 0x2\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_aaeeec7e2573a54c06823fb6800437b4f}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a94a7b260355e3e1c3c97b649304b3302}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!head\+\_\+@{head\+\_\+}}
\index{head\+\_\+@{head\+\_\+}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{head\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T$>$ std\+::atomic$<$int64\+\_\+t$>$ {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::head\+\_\+ \{0\}\hspace{0.3cm}{\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a94a7b260355e3e1c3c97b649304b3302}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a88443e08c1d248ce79ed7a2dc54c00c4}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!num\+\_\+lsb@{num\+\_\+lsb}}
\index{num\+\_\+lsb@{num\+\_\+lsb}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{num\+\_\+lsb}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T$>$ const uintptr\+\_\+t {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::num\+\_\+lsb = 3\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a88443e08c1d248ce79ed7a2dc54c00c4}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a83e184f9dffd2a06038726f74640c554}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!oprec\+\_\+lsb@{oprec\+\_\+lsb}}
\index{oprec\+\_\+lsb@{oprec\+\_\+lsb}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{oprec\+\_\+lsb}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T$>$ const uintptr\+\_\+t {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::oprec\+\_\+lsb = 0x4\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_a83e184f9dffd2a06038726f74640c554}
\hypertarget{classtervel_1_1containers_1_1wf_1_1_ring_buffer_acd823ce60f711bf6ea20799992844183}{}\index{tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}!tail\+\_\+@{tail\+\_\+}}
\index{tail\+\_\+@{tail\+\_\+}!tervel\+::containers\+::wf\+::\+Ring\+Buffer@{tervel\+::containers\+::wf\+::\+Ring\+Buffer}}
\subsubsection[{tail\+\_\+}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T$>$ std\+::atomic$<$int64\+\_\+t$>$ {\bf tervel\+::containers\+::wf\+::\+Ring\+Buffer}$<$ T $>$\+::tail\+\_\+ \{0\}\hspace{0.3cm}{\ttfamily [private]}}\label{classtervel_1_1containers_1_1wf_1_1_ring_buffer_acd823ce60f711bf6ea20799992844183}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
tervel/containers/wf/ring-\/buffer/\hyperlink{ring__buffer_8h}{ring\+\_\+buffer.\+h}\item 
tervel/containers/wf/ring-\/buffer/\hyperlink{ring__buffer__imp_8h}{ring\+\_\+buffer\+\_\+imp.\+h}\end{DoxyCompactItemize}
